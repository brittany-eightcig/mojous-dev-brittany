<div class="index-section custom-section" data-section-id="{{ section.id }}" data-section-type="Mojo Section 2 - 1-section">
  <div class="row">

    {% if section.settings.title != blank %}
    <h2 class="sections"><span>{{ section.settings.title | escape }}</span></h2>
    {% endif %}

    <div class="pages-content_{{ section.id }}">
      <div class="rte">
        {{ section.settings.rich-text }}
      </div>

      {% if section.settings.rich-text == blank %}
      <div class="content-onboard">
        <p>Use this section to tell customers about your store or add content from one of your pages which makes it easy to add images, video or any other content</p>
      </div>
      {% endif %}
      {% if section.settings.link != blank %}
          {% if section.settings.button-text != blank %}<a href="{{ section.settings.link }}" class="button mojo-section-2-1-header-button">{{ section.settings.button-text }}</a>{% endif %}
        {% endif %}
    </div>

    <div class="mojo-section-2-1-image-container">
    {% for block in section.blocks %}
    {%- assign image_size = '300x' -%}
    {%- assign cont_width = 'mojo-section-2-1-width' -%}

    <div class="staggered-image-wrapper {{ cont_width }} mobile-3 float-{{ block.settings.alignment }} section-{{ section.id }}">
      {%- assign img_url = block.settings.image | img_url: image_size -%}
      <div class="image-layout" {{ block.shopify_attributes }}>

          
          {% if block.settings.link != blank %}<a href="{{ block.settings.link }}">{% endif %}
          {% if block.settings.image != blank %}
          <img src="{{ img_url }}">
          {% else %}
          <div class="onboard">
            {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
          </div>
          {% endif %}
          {% if block.settings.link != blank %}</a>{% endif %}
        
     

        {% unless block.settings.title == 'blank' and block.settings.text == 'blank' %}
        <div class="custom-content-featured-text-{{ block.settings.align_text }}">
          {% if block.settings.title != blank %}
          <h2 class="sections"><span>{{ block.settings.title | escape }}</span></h2>
          {% endif %}
          {% if block.settings.text != blank %}
          <p class="textarea">{{ block.settings.text }}</p>
          {% endif %}
          {% if block.settings.link != blank %}
          {% if block.settings.button-text != blank %}<a href="{{ block.settings.link }}" class="button">{{ block.settings.button-text }}</a>{% endif %}
          {% endif %}
        </div>
        {% endunless %}

      </div>
      {% if section.blocks.size == 0 %}
      {% include 'no-blocks' %}
      {% endif %}
    </div>
    {% endfor %}
  </div>
  </div>
</div>
<div class="mojo-seciont-2-modal" style="display:none;">
  <iframe frameborder="0" allowfullscreen=""></iframe>
</div>
<div class="clear"></div>

<style>
  [data-section-id="{{ section.id }}"] a.button:not(.mojo-section-2-1-header-button)
  {
    bottom: 5px;
    left: 0;
    right: 0;
    position: absolute;
  }

  .mojo-section-2-1-image-container .image-layout { margin-bottom: 0px !important; }
  .pages-content_{{ section.id }} { text-align: center; }
  .staggered-image-wrapper { position:  relative;  }
  .index-section .staggered-image-wrapper.section-{{ section.id }} h2 { margin-left: 0; margin-right: 0; width: 100%; }
  .staggered-image-wrapper.float-left { float: left; display: inline! important; }
  .staggered-image-wrapper.float-right { float: right! important; display: inline! important; }
  {% if section.settings.title == blank %}
  .custom-section { margin-top: 20px; }
  {% endif %}

  .custom-content-featured-text-left, .custom-content-featured-text-left h2.sections, .custom-content-featured-text-left h2.sections span { text-align: left; padding-left: 0; height: 100%;}
  .custom-content-featured-text-left p, .custom-content-featured-text-left span { margin: 1.6em; }
  [data-section-id="{{ section.id }}"] .custom-content-featured-text-center, .custom-content-featured-text-center h2.sections, .custom-content-featured-text-center h2.sections span { text-align: left; }
  .custom-content-featured-text-right, .custom-content-featured-text-right h2.sections, .custom-content-featured-text-right h2.sections span { text-align: right; padding-right: 0; }  
  .custom-section a.button { text-align: center! important; }
  .mojo-section-2-1-image-container { float: left; /*margin-left: 8.33333333333%; margin-right: 8.33333333333%;*/ }
  .mojo-section-2-1-image-container .staggered-image-wrapper { margin: 0 0 -5px 0 !important; }

@media screen and (min-width: 980px) {
    .mojo-section-2-1-width
    {
      width: 25%;
    }
}
@media screen and (max-width: 980px) {
    .mojo-section-2-1-width
    {
      width: 50%;
    }
}
@media screen and ( min-width: 740px ) {
  [data-section-id="{{ section.id }}"] .image-layout .custom-content-featured-text-left { display: none; }
  [data-section-id="{{ section.id }}"] .image-layout:hover .custom-content-featured-text-left { display: block; }
  [data-section-id="{{ section.id }}"] .custom-content-featured-text-left, .custom-content-featured-text-left h2.sections, .custom-content-featured-text-left h2.sections span { position: absolute; top: 0; }
}
@media screen and ( max-width: 740px ) {
    .mojo-section-2-1-width
    {
      width: 100%;
    }
}
</style>
{% schema %}
{  
   "name":"Mojo Section 2 - 1",
   "max_blocks":8,
   "settings":[  
      {
         "type":"text",
         "id":"title",
         "label":"Heading",
         "default":"Mojo Section 2 - 1"
      },
      {
        "type": "richtext",
        "id": "rich-text",
        "label": "Text",
        "info": "Use basic HTML to format text"
      },
      {  
         "type":"url",
         "id":"link",
         "label":"Link",
         "info":"Optional"
      },
      {
        "type": "text",
        "id": "button-text",
        "label": "Button text"
      }
   ],
   "blocks":[  
      {  
         "type":"image",
         "name":"Image",
         "settings":[  
          {  
               "type":"select",
               "id":"container_width",
               "label":"Container width",
               "default":"33%",
               "options":[  
                 {  
                     "value":"25%",
                     "label":"25%"
                  },
                  {  
                     "value":"33%",
                     "label":"33%"
                  },
                  {  
                     "value":"40%",
                     "label":"40%"
                  },
                  {  
                     "value":"50%",
                     "label":"50%"
                  },
                  {  
                     "value":"60%",
                     "label":"60%"
                  },
                  {  
                     "value":"66%",
                     "label":"66%"
                  },
                  {  
                     "value":"75%",
                     "label":"75%"
                  },
                  {  
                     "value":"100%",
                     "label":"100%"
                  }
               ]
            },
          {  
               "type":"select",
               "id":"alignment",
               "label":"Alignment",
               "default":"left",
               "options":[  
                  {  
                     "value":"left",
                     "label":"Left"
                  },
                  {  
                     "value":"right",
                     "label":"Right"
                  }
               ]
            },
            {  
               "type":"image_picker",
               "id":"image",
               "label":"Image"
            },
            {  
               "type":"url",
               "id":"link",
               "label":"Link",
               "info":"Optional"
            },
            {
              "id": "text",
              "type": "richtext",
              "label": "Text",
              "default": "<p>Use this text to share information about your brand with your customers. Describe a product, share announcements, or welcome customers to your store.</p>"
            },
            {
              "type": "text",
              "id": "button-text",
              "label": "Button text"
            },
            {  
               "type":"select",
               "id":"align_text",
               "label":"Text alignment",
               "default":"left",
               "options":[  
                  {  
                     "value":"left",
                     "label":"Left"
                  },
                  {  
                     "value":"center",
                     "label":"Centered"
                  },
                  {  
                     "value":"right",
                     "label":"Right"
                  }
               ]
            }
         ]
      }           
   ],
   "presets":[  
      {  
         "name":"Mojo Section 2 - 1",
         "category":"Image",
         "blocks":[  
            {  
               "type":"image"
            },
            {  
               "type":"image"
            },
            {  
               "type":"image"
            }
         ]
      }
   ]
}


{% endschema %}
